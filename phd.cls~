\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesClass{phd}[2007/05/10]

\typeout{}
\typeout{===============================================================================}
\typeout{BAYLOR UNIVERSITY}
\typeout{Department of Mathematics}
\typeout{Ph.D. Thesis LaTeX style file}
\typeout{Created and maintained by John Davis}
\typeout{CURRENT AS OF: April 7, 2009}
\typeout{}
\typeout{WARNING: Margins, etc. have beeen calibrated for the copier in the Mathematics Department.}
\typeout{}
\typeout{There are no guarantees that other printers will yield correct results.}
\typeout{===============================================================================}

%%
%% We'll let report handle some of the standard options.
%%

\DeclareOption{fleqn}{ \PassOptionsToClass{fleqn}{report} }
\DeclareOption{leqno}{ \PassOptionsToClass{leqno}{report} }
\DeclareOption{openbib}{ \PassOptionsToClass{openbib}{report} }
\DeclareOption{draft}{ \PassOptionsToClass{draft}{report} }
\DeclareOption{final}{ \PassOptionsToClass{final}{report} }
\DeclareOption{openright}{ \PassOptionsToClass{openright}{report} }
\DeclareOption{openany}{ \PassOptionsToClass{openany}{report} }

%%
%% Most of the usual report options are now illegal.
%%

\DeclareOption{10pt}{\ClassWarning{thesis}{Option '10pt' ignored.}}
\DeclareOption{11pt}{\ClassWarning{thesis}{Option '11pt' ignored.}}
\DeclareOption{12pt}{\ClassWarning{thesis}{Option '12pt' ignored (redundant).}}

\DeclareOption{landscape}{\ClassWarning{thesis}{Option 'landscape' ignored.}}
\DeclareOption{twoside}{\ClassWarning{thesis}{Option 'twoside' ignored.}}
\DeclareOption{twocolumn}{\ClassWarning{thesis}{Option 'twocolumn' ignored.}}
\DeclareOption{legalpaper}{\ClassWarning{thesis}{Option 'legalpaper' ignored.}}
\DeclareOption{executivepaper}{\ClassWarning{thesis}{Option 'executivepaper' ignored.}}
\DeclareOption{letterpaper}{\ClassWarning{thesis}{Option 'letterpaper' ignored (redundant).}}
\DeclareOption{onecolumn}{\ClassWarning{thesis}{Option 'onecolumn' ignored (redundant).}}
\DeclareOption{oneside}{\ClassWarning{thesis}{Option 'oneside' ignored (redundant).}}

% Invalid options - normally used in report.cls and others, but not here:

\DeclareOption{titlepage}{\ClassWarning{thesis}{Title page always generated. Option ignored.}}
\DeclareOption{notitlepage}{\ClassWarning{thesis}{Option 'notitlepage' not available for thesis.}}
\DeclareOption{a4paper}{\ClassWarning{thesis}{Option 'a4paper' not available for this class.}}
\DeclareOption{a5paper}{\ClassWarning{thesis}{Option 'a5paper' not available for this class.}}
\DeclareOption{b5paper}{\ClassWarning{thesis}{Option 'b5paper' not available for this class.}}

% CUSTOM OPTIONS

% Options for no decimal numbering, or decimal number nested over 3 deep:
\newif\if@Section
\@Sectionfalse

%%
%% Thesis style is based on the report style.
%%

\ProcessOptions
\LoadClass[12pt,letterpaper,oneside,onecolumn]{report}[1996/10/31]

% Other required LaTeX2e packages: if your computer doesn't already
% have these, you can copy them to your own directory (URL above):

\RequirePackage{indentfirst}        % indentfirst.sty, 1995/11/23
\RequirePackage{ifthen}         % ifthen.sty, 1996/08/02
% \RequirePackage[ULforem,normalbf]{ulem}   % ulem.sty, 1995/12/17


% SPECIAL INTERNAL COMMANDS.  Needed by later routines.

% Create a command to be used for default arguments.
\newcommand*{\th@DefArg}{aWfdRvV11f66GL00K5}

% Now create a command to check for the default argument, and call the
% command [in the first arg] appropriately.  Used for section heading
% commands.

\newcommand{\th@ExecChkOptArg}[3]{
\ifthenelse{\equal{\th@DefArg}{#2}}{
    #1{#3}
    }{
    #1[#2]{#3}}
}

% Convert the given number to a corresponding number name.
% modified by Daniel to make it work with Appendix
\newcommand{\arabicText}[1]{
\ifthenelse { \(\not \equal{#1}{A}\) \and \(\not \equal{#1}{B}\) %
        \and \(\not \equal{#1}{C}\) \and \(\not \equal{#1}{D}\)
        \and \(\not \equal{#1}{E}\) \and \(\not \equal{#1}{F}\)
        \and \(\not \equal{#1}{G}\) \and \(\not \equal{#1}{H}\)
        \and \(\not \equal{#1}{I}\) \and \(\not \equal{#1}{J}\)
        \and \(\not \equal{#1}{K}\) \and \(\not \equal{#1}{L}\) } { %
\ifcase #1 %
  ZERO \or ONE \or TWO \or THREE \or FOUR \or FIVE \or %
  SIX \or SEVEN \or EIGHT \or NINE \or TEN \or ELEVEN \or %
  TWELVE \or THIRTEEN \or FOURTEEN \or FIFTEEN \or SIXTEEN \or %
  SEVENTEEN \or EIGHTEEN \or NINETEEN \or TWENTY %
\fi
}
{#1}
}

% Controls the heading styles.  You can change the size to suit your needs.

\newcommand*{\th@ChSz}{\normalsize}
\newcommand*{\th@ScSz}{\normalsize}
\newcommand*{\th@HdFnt}{\normalfont}

% The style commands proper.  Controlled by a flag.

\newif\if@thInHeading
\@thInHeadingfalse
\newcommand*{\th@ChapterStyle}{\normalsize\normalfont}
\newcommand*{\th@SectionStyle}{\if@thInHeading\th@HdFnt\th@ScSz\fi}
\newcommand*{\th@SubSectionStyle}{\if@thInHeading\normalsize\th@HdFnt\fi}
\newcommand*{\th@OtherSecHeadStyles}{\if@thInHeading\normalsize\th@HdFnt\fi}


\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
                    \thispagestyle{plain}%
                    \global\@topnum\z@
                    \@afterindentfalse
                    \secdef\@chapter\@schapter}

\def\@chapter[#1]#2{\ifnum \c@secnumdepth >\m@ne
                         \refstepcounter{chapter}%
                         \typeout{**************************}
                         \typeout{\@chapapp\space\thechapter.}%
                         \addcontentsline{toc}{chapter}%
                                   {\protect\numberline{\rm\thechapter}\rm#1}%
                    \else
                      \addcontentsline{toc}{chapter}{#1}%
                    \fi
                    \chaptermark{#1}%
                    \addtocontents{lof}{\protect\addvspace{10\p@}}%
                    \addtocontents{lot}{\protect\addvspace{10\p@}}%
                    \@makechapterhead{#2}%
                    \@afterheading
                    }
\def\@makechapterhead#1{ %modified by daniel%
    \vspace*{0.181in} {  \parindent 0pt \centering
     \MakeUppercase{\@chapapp{}} \arabicText{\thechapter}
     \\  #1  \\ \vspace{0.13in} } }

\def\@schapter#1{\if@twocolumn
                   \@topnewpage[\@makeschapterhead{#1}]%
                 \else
                   \@makeschapterhead{#1}%
                   \@afterheading
                 \fi}
\def\@makeschapterhead#1{%
  \vspace*{0pt}%
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \Huge \bfseries  #1\par\nobreak
    \vskip 40\p@
  }}

% Makes the chapter heading label, putting it in the desired style.
% We need to define it here, since we need it before redefining the
% chapter commands.

\newcommand*{\th@DoChapCenter}{\centering}
\newcommand*{\th@ChapHead}[1]{
    \protect\th@ChapterStyle
    \protect\th@DoChapCenter #1}


% DEFINE DOUBLE-SPACING (THE DEFAULT) AND OTHER SPACING
\def\setspace@size{\ifx\@currsize\normalsize\@normalsize\else\@currsize\fi}
\def\doublespacing{ \ifcase \@ptsize \relax
      \def \baselinestretch {2.004}%    10pt
  \or \def \baselinestretch {1.771}%    11pt
  \or \def \baselinestretch {1.660}%    12pt
  \fi \setspace@size}
\def\singlespacing{\def \baselinestretch {1} \setspace@size \vskip \baselineskip}
\def\setstretch#1{\renewcommand{\baselinestretch}{#1}}
\def\@setsize#1#2#3#4{\@nomath#1
  \let\@currsize#1 \baselineskip #2
  \baselineskip \baselinestretch\baselineskip
  \parskip \baselinestretch\parskip
  \setbox\strutbox \hbox{ \vrule height.7\baselineskip depth.3\baselineskip
  width\z@} \skip\footins \baselinestretch\skip\footins
  \normalbaselineskip\baselineskip#3#4}
%%%%%%%%% floats & footnotes singlespaced %%%%%%%%%
\let\latex@xfloat=\@xfloat
\def\@xfloat #1[#2]{\latex@xfloat #1[#2]
\def\baselinestretch{1}\@normalsize \normalsize}
\long\def\@footnotetext#1{
  \insert\footins{
    \def\baselinestretch {1}
    \reset@font\footnotesize
    \interlinepenalty\interfootnotelinepenalty
    \splittopskip\footnotesep
    \splitmaxdepth \dp\strutbox \floatingpenalty \@MM
    \hsize\columnwidth \@parboxrestore
    \protected@edef\@currentlabel{
      \csname p@footnote\endcsname\@thefnmark}
    \color@begingroup \@makefntext{
        \rule\z@\footnotesep\ignorespaces#1\@finalstrut\strutbox}
    \color@endgroup}}
\long\def\@mpfootnotetext#1{
  \global\setbox\@mpfootins\vbox{
    \unvbox \@mpfootins
    \def\baselinestretch {1}
    \reset@font\footnotesize
    \hsize\columnwidth \@parboxrestore
    \protected@edef\@currentlabel{
      \csname p@mpfootnote\endcsname\@thefnmark}
    \color@begingroup \@makefntext{
       \rule\z@\footnotesep\ignorespaces#1\@finalstrut\strutbox}
   \color@endgroup}}
%%%%%%%% single / double spacing %%%%%%%%%
\def\singlespace{ \vskip \baselineskip \def\baselinestretch {1}
  \setspace@size \vskip -\baselineskip }
\def\endsinglespace{\par}
\def\spacing#1{ \par \begingroup \def\baselinestretch {#1} \setspace@size }
\def\endspacing{ \par \vskip \parskip \vskip \baselineskip
  \endgroup \vskip -\parskip \vskip -\baselineskip }
\def\doublespace{ \ifcase \@ptsize \relax
      \spacing{2.004}%  10pt
  \or \spacing{1.771}%  11pt
  \or \spacing{1.660}%  12pt
  \fi }
\let\enddoublespace=\endspacing


% SET THE OVERALL DOCUMENT PROPERTIES, such as page numbering, margins...
% Initialize several global document properties, but do so *before*
% the beginning of the document to forces these changes.
\AtBeginDocument{
        \let\em\it
    \setlength{\topmargin}{.35in}%moves text and number was .295
    \setlength{\headheight}{0in} %was 0.2
    \setlength{\headsep}{0.40625in}%was 0.138in; moves text only
    \setlength{\topskip}{0in}% first line, down from page number;
                                %moves text only
    \setlength{\textheight}{8.9375in}% modified by Daniel
    \setlength{\footskip}{.325in}
                %sets length for bottom page nos was .335
    \setlength{\oddsidemargin}{.55in}%modified by Daniel
    \setlength{\evensidemargin}{.55in}%modified by Daniel
    \setlength{\parindent}{30pt}    % somewhere between 0.3" and 0.5"
    \setlength{\textwidth}{5.92in}
    \setlength{\leftmargini}{3.5em}
    \setlength{\leftmarginii}{2.2em}
    \setlength{\leftmarginiii}{2.2em}
    \setlength{\leftmarginiv}{2.2em}
    \setlength{\leftmarginv}{2.2em}
    \setlength{\leftmarginvi}{2.2em}
    \setlength{\leftmargin}{\leftmargini}
    \setlength{\labelsep}{.5em}
    \setlength{\labelwidth}{ 1.5em}
    \pagenumbering{arabic}
    \pagestyle{myheadings}
    \markright{}
    \onecolumn
    \raggedbottom
    \normalsize
    \normalfont
    \doublespacing  % footnotes and floats still singlespaced
    \setcounter{tocdepth}{2}
    \setcounter{secnumdepth}{\value{th@SecNum}}
% Set length of hanging indentation for bibliography entries.
%
%\newlength{\bibhang}
%\setlength{\bibhang}{2em}
% Redefine the bibliography command here, just in case someone
% uses a custom *.sty file that redefines bibliography command
% modified by Daniel to include required hanging indentation
\def\thebibliography#1{\newpage\normalfont \normalsize \centering
\vspace*{0.18in} BIBLIOGRAPHY \vspace*{-0.15in}
\addcontentsline{toc}{chapter}{\hspace*{-0.0625in}\bibnameToC}
\singlespace
 \list
 {
 [\arabic{enumi}]}{\settowidth\labelwidth{[#1]}\leftmargin\labelwidth
 \advance\leftmargin\labelsep
 \advance\leftmargin\bibindent
 \itemindent -\bibindent
 \listparindent \itemindent
 %\parsep \z@
 \usecounter{enumi}}
 \def\newblock{\hskip .11em plus .33em minus -.07em}
 \sloppy
 \sfcode`\.=1000\relax
 %\advance\leftmargin\labelsep
 %\usecounter{enumi}} \def\newblock{\hskip .11em plus .33em minus -.07em}
 %\sloppy \sfcode`\.=1000\relax
 }

\let\endthebibliography=\endlist

\newenvironment{Bibliography}{
    \begin{thebibliography}{99}
     }{\end{thebibliography}}
}



% ADDITIONAL STUFF
\setcounter{tocdepth}{2}
\newcommand*{\@normalsize}{\normalsize}
\doublespacing

%  Figures and Tables
%\setcounter{topnumber}{2}
%\renewcommand*{\topfraction}{.5}
%\setcounter{totalnumber}{1}
%\renewcommand*{\textfraction}{.3}
%\renewcommand*{\floatpagefraction}{.6}
%\setcounter{dbltopnumber}{1}
%\renewcommand*{\dbltopfraction}{.4}
%\renewcommand*{\dblfloatpagefraction}{.3}
%\setlength{\abovecaptionskip}{0pt}
%\setlength{\belowcaptionskip}{0pt}
\renewcommand*{\intextsep}{1.2cm} %SAM: I uncommented these. I took out these from my gJetsThesis_BUformar.tex file
\renewcommand*{\textfloatsep}{1.0cm} %space between last top float or first bottom float and the text.
\renewcommand*{\floatsep}{1.5cm} %space left between floats.
% Re-define some formatting commands to produce lists, labels,
% and numberings that are more to the Grad School's liking.

% Set up some titles on the table of contents page.
\renewcommand*{\figurename}{\small Figure}
\renewcommand*{\tablename}{\small Table}
\newcommand*{\figurenameToC}{\normalsize\th@HdFnt \normalfont}
\newcommand*{\tablenameToC}{\normalsize\th@HdFnt\normalfont}

\renewcommand*{\contentsname}{\th@ChapHead{\vspace*{0.17in}TABLE OF CONTENTS\vspace*{-1.0in}}}
\renewcommand*{\listfigurename}{\th@ChapHead{\vspace*{0.17in}LIST OF FIGURES\vspace*{-0.80in}}}
\renewcommand*{\listtablename}{\th@ChapHead{\vspace*{0.17in}LIST OF TABLES\vspace*{-.80in}}}
\renewcommand*{\appendixname}{\th@ChapHead{APPENDIX}}
\renewcommand*{\bibname}{\th@ChapHead{BIBLIOGRAPHY}}
\renewcommand*{\chaptername}{\th@ChapHead{CHAPTER}}
\newcommand*{\chapternameToC}{
    \normalsize\th@HdFnt \normalfont}
\newcommand*{\bibnameToC}{
    \normalsize\th@HdFnt\vspace*{-0.01in}BIBLIOGRAPHY\normalfont}
%sam: uncommented this to get APPENDICES instead of APPENDIX
\newcommand*{\appendixnameToC}{
    \normalsize\th@HdFnt APPENDICES\normalfont}

% Adds the appropriate label to the ToC/LoF/LoT

\addtocontents{lof}{\protect\contentsline {part}
    {\protect\figurenameToC}{\protect\relax}}
\addtocontents{lot}{\protect\contentsline {part}
    {\protect\tablenameToC}{\protect\relax}}
\addtocontents{toc}{\protect\contentsline {part}
    {\protect\chapternameToC}{\protect\relax}}


% NUMBERING STYLES, DEFAULT VALUES

% Using macros of the form \th@Def* avoids conflicts with
% LaTeX internals which use \theDef* forms...

\newcounter{th@SecNum}
\setcounter{th@SecNum}{3}
\newcommand*{\th@DefTheChapter}{\arabic{chapter}}
\newcommand*{\th@DefTheSection}{\th@DefTheChapter.\arabic{section}}
\newcommand*{\th@DefTheSubsection}{\th@DefTheSection.\arabic{subsection}}
\newcommand*{\th@DefTheSubsubsection}{\th@DefTheSubsection.\arabic{subsubsection}}

\renewcommand*{\thechapter}{\th@DefTheChapter}
\renewcommand*{\thesection}{\th@DefTheSection}
\renewcommand*{\thesubsection}{\th@DefTheSubsection}
\renewcommand*{\thesubsubsection}{\th@DefTheSubsubsection}

% Enumerated List labels
\renewcommand*{\theenumi}{\arabic{enumi}}
\renewcommand*{\theenumii}{\alph{enumii}}
\renewcommand*{\theenumiii}{\roman{enumiii}}
\renewcommand*{\theenumiv}{\alph{enumiv}}
\renewcommand*{\labelenumi}{(\theenumi)}
\renewcommand*{\labelenumii}{(\theenumii)}
\renewcommand*{\labelenumiii}{(\theenumiii)}
\renewcommand*{\labelenumiv}{(\theenumiii.\theenumiv)}

% Itemized list labels.
\renewcommand*{\labelitemi}{\textbullet}
\renewcommand*{\labelitemii}{\textasteriskcentered}
\renewcommand*{\labelitemiii}{\normalfont \bfseries \textendash}
\renewcommand*{\labelitemiv}{\textperiodcentered}

% Margins for lists
\setlength{\leftmargini}{3.5em}
\setlength{\leftmarginiii}{2.2em}
\setlength{\leftmarginiv}{2.2em}
\setlength{\leftmarginv}{2.2em}
\setlength{\leftmarginvi}{2.2em}
\setlength{\leftmargin}{\leftmargini}
\setlength{\labelwidth}{1.5em}

% Redefine certain commands and environments from report.cls.
% This is where things get messy.  We rename each command we modify,
% then redefine the command using the old version as subset.

% VERSE, QUOTATION, and QUOTE must be single-spaced.
% These rename the internal commands for the \begin{...} and
% \end{...} environment commands.
\let\th@OldVerse\verse
\let\th@OldQuotation\quotation
\let\th@OldQuote\quote
\let\endth@OldVerse\endverse
\let\endth@OldQuotation\endquotation
\let\endth@OldQuote\endquote

% Note - the ``\begin{singlespace}'' and ``\end{singlespace}''
% are defined in setspace.sty.

\renewenvironment*{verse}{\begin{th@OldVerse}\begin{singlespace}}
    {\end{singlespace}\end{th@OldVerse}}

\renewenvironment*{quotation}{\begin{th@OldQuotation} \begin{singlespace}}
    {\end{singlespace}\end{th@OldQuotation}}

\renewenvironment*{quote}{\begin{th@OldQuote} \begin{singlespace}}
    {\end{singlespace} \end{th@OldQuote}}

% Theorems and Axioms:  They must NOT be italicized.  To do this
% robustly, I've needed to use some in-depth TeXnology.  Check out a
% good LaTeX book for info on the \@namedef and \@nameuse commands.

\let\th@OldNewtheorem\newtheorem
% Check for the calling format: \newtheorem{}[]{}
\def\newtheorem#1{ \@ifnextchar[{\th@nuthrmOM{#1}}{\th@newtheoremTwo{#1}}%]
}
% Calling format: \newtheorem{}{}[]; checks for the optional arg at the end.
\def\th@newtheoremTwo#1#2{
    \@ifnextchar[{\th@nuthrmO{#1}{#2}}{\th@nuthrm{#1}{#2}}%]
}
% Standard call.  No optional args.
\def\th@nuthrm#1#2{
    \th@OldNewtheorem{th@#1}{#2}
    \th@correctTheorem{end#1}{#1}{endth@#1}{th@#1}
}
% Optional arg at end.
\def\th@nuthrmO#1#2[#3]{
    \th@OldNewtheorem{th@#1}{#2}[#3]
    \th@correctTheorem{end#1}{#1}{endth@#1}{th@#1}
    }
% Optional arg in the middle.
\def\th@nuthrmOM#1[#2]#3{
    \th@OldNewtheorem{th@#1}[th@#2]{#3}
    \th@correctTheorem{end#1}{#1}{endth@#1}{th@#1}
    }
\def\th@execThrmOpt#1[#2]{
    \@nameuse{#1}[#2] \normalsize\normalfont
}
\newcommand*{\th@correctTheorem}[4]{
    \@namedef{#1}{\@nameuse{#3}}
    \@namedef{#2}{\@ifnextchar[{\th@execThrmOpt{#4}}{ %%}
            \@nameuse{#4} \normalsize\normalfont}
    }
}

% APPENDIX command
\newcounter{th@SectionSave}
\let\th@OldAppCmd\appendix
\renewcommand{\appendix}{
    \setcounter{th@SectionSave}{\value{section}}
    \th@OldAppCmd
    \setcounter{section}{0}%
    \setcounter{subsection}{0}%
%sam: uncommented this to get APPENDICES instead of APPENDIX
% Here is the original code:
    \addtocontents{toc}{\protect\contentsline {part}
        {\protect\hspace*{-0.0625in}\appendixnameToC}{\protect\relax}}
%sam: commented this out. needed APPENDICES instead of APPENDIX
%     \addtocontents{toc}{\protect\contentsline {part}
%       	{\protect\hspace*{-0.0625in}\appendixname}{\protect\relax}}
    \renewcommand*{\th@DefTheChapter}{\Alph{chapter}}
    }

% BIBLIOGRAPHY: Used to be redefined here.  Moved to permit use
% of different bibliography .sty and .bst files.  It's now in
% the '\AtBeginDocument' command.

% SECTION HEADINGS.
% including several new options

% New if-s
\newif\if@AlwaysFalse
\@AlwaysFalsefalse
\newif\if@CenterHeading
\@CenterHeadingfalse
\newif\if@UseStarCmd
\@UseStarCmdfalse

% GENERAL AND SETUP COMMANDS.

% Makes a heading.
% The optional argument (#1) is a centering flag. The heading gets
% centered if it's present and set to true.
% The second arg is the style command.
% The third arg is the heading proper.
\newcommand*{\th@MakeHeading}[2]{
    \protect #1 \hspace{-0.1in}
    \if@Section\centering #2\else #2 \fi
    \vspace{-0.15in}
    }

% Makes a heading.
% The entire thing is something of a mess.  We want all ToC entries to
% be in normal text.  We also want references in normal text.  But, we
% want the heading numbers to appear in the correct size and font.  To
% get this to happen is a chore.

% The args are, in order:
%    The command to execute (#1),
%    The heading style command (#2),
%    The optional arg passed to the heading command proper (#3).
%    E.g. if you execute a \section[foo]{bigfoo}, #3=="foo".
%    The heading text itself (#4).
%    The name of the current command (#5). E.g. "chapter".
%    The internal command that generates the number label (#6).

% There are also two important flags used by this command.  The first
% is \@UseStarCmd.  Set this to "true" if this is the starred version
% of the command.  The second flag is \@thInHeading.  This gets set
% 'true' inside the section heading commands and turned off at the end
% of the command.

\newcommand*{\th@Heading}[6]{
        \vspace{-0.1in}
    \@thInHeadingtrue
    % Alter the '\the...' command.
    \@namedef{the#5}{\protect#2 #6}
    \if@UseStarCmd
        #1*{\th@MakeHeading{\protect#2}{#4}}
    \else
        \ifthenelse{\equal{\th@DefArg}{#3}}{
            #1[\normalsize\normalfont#4]{
                \th@MakeHeading{\protect#2}{#4}}
        }{
            #1[\normalsize\normalfont#3]{
                \th@MakeHeading{\protect#2}{#4}}
        }
    \fi
% Reset the '\the...' command, but don't enforce
% '\normalsize\normalfont' anywhere, as this messes up
% cross-references in footnotes.
    \@namedef{the#5}{#6}
    \@thInHeadingfalse
    \@CenterHeadingfalse
    \normalsize\normalfont
}

% CHAPTER HEADING

% The chapter command definitely needs some re-defining.  The primary
% purpose is to control numbering in figures, tables, and equations.

% Special if-s; used internally for chapters.
\newif\if@THshortChapter
\@THshortChapterfalse

% SECTION HEADING COMMANDS.  We need to use the starred version and
% add the numbering and toc-entry ourselves.  We need to do this for
% all of the subsequent heading commands.  If we don't we'll get
% weird-looking ToC entries and references.

\let\th@OldSection\section
\renewcommand*{\section}{\@ifstar{\th@SectionS}{\th@Section}}

\newcommand*{\th@Section}[2][\th@DefArg]{
        \@Sectiontrue
    \@UseStarCmdfalse
    \@CenterHeadingtrue\@Sectiontrue
    \th@Heading{\th@OldSection}{\th@SectionStyle}{#1}
    {{\it #2}}
        {section}{\th@DefTheSection}
    \normalsize\normalfont
}
\newcommand*{\th@SectionS}[1]{
    \@UseStarCmdtrue
    \@CenterHeadingtrue
    \th@Heading{\th@OldSection}{\th@SectionStyle}{\th@DefArg}
        {#1}{section}{\th@DefTheSection}
    \@UseStarCmdfalse
    \normalsize\normalfont
}

% SUBSECTION HEADING COMMANDS.

\let\th@OldSubSection\subsection
\renewcommand*{\subsection}{
    \@ifstar{\th@SubSectionS}{\th@SubSection}
}
\newcommand*{\th@SubSection}[2][\th@DefArg]{
     \@Sectionfalse
    \@UseStarCmdfalse
    \@CenterHeadingfalse
    \th@Heading{\th@OldSubSection}{\th@SubSectionStyle}
        {#1}{{\it #2}}{subsection}{\th@DefTheSubsection}
    \normalsize\normalfont
}
\newcommand*{\th@SubSectionS}[1]{
    \@UseStarCmdtrue
    \@CenterHeadingfalse
    \th@Heading{\th@OldSubSection}{\th@SubSectionStyle}
        {\th@DefArg}{#1}{subsection}{\th@DefTheSubsection}
    \@UseStarCmdfalse
    \normalsize\normalfont
}

% SUBSUBSECTION HEADING COMMANDS.  No starred version permitted.
% No ToC entry.  We also need to check and see if we should number
% it or not and if we should inline it or not.

\let\th@OldSubSubSection\subsubsection
\newlength{\th@SubSubSecSpc}

\renewcommand*{\thesubsubsection}{\th@DefTheSubsubsection}
\newcommand*{\th@PreSubsubsecCmd}{\@UseStarCmdfalse}
\setcounter{th@SecNum}{4}
\setlength{\th@SubSubSecSpc}{0.5em}

\renewcommand*{\subsubsection}[2][\th@DefArg]{
    \refstepcounter{subsubsection}
    \vspace{4\parsep}
    \@thInHeadingtrue\th@OtherSecHeadStyles%
    \thesubsubsection\hspace{\th@SubSubSecSpc}{\it #2}\hspace{2mm}
    \ignorespaces\normalsize\normalfont
    }

%%
%% Style guidelines don't seem to permit named paragraphs and
%% subparagraphs, so we'll disable them.
%%
\renewcommand*{\paragraph}[2][\th@DefArg]{
    \ClassError{thesis}{Named paragraphs are not allowed in a thesis}{}
}
\renewcommand*{\subparagraph}[2][\th@DefArg]{
    \ClassError{thesis}{Named subparagraphs are not allowed in a thesis}{}
}

% NEW COMMANDS DEFINED FOR THIS CLASS

% Unavailable commands
\renewcommand*{\theindex}{\ClassWarning{thesis}
    {Indexing not available in this class.}}
\renewcommand*{\twocolumn}{\ClassWarning{thesis}
    {Twocolumn not available in this class.}}
\renewcommand*{\thepart}{\ClassWarning{thesis}
    {``thepart'' not available in this class.}}
\renewcommand*{\part}{\ClassWarning{thesis}
    {``thepart'' not available in this class.}}


% NEW COMMANDS.
% This forces a page number on the first page of a chapter, etc.
\newcommand*{\forcepageno}{\thispagestyle{myheadings}}
\newcommand*{\OnePageChapter}{\forcepageno}

% THESIS PROLOGUE PAGES.
% Stores the second arg in the command specified by the first arg.
\newcommand{\th@StoreIn}[2]{ \gdef#1{#2} }

% Default values of storage variables.  Emits an error message.
% This part of the class is long...

\newcommand*{\thesisAuthorName}{
    \ClassError{thesis}{You must give your name using \protect\author{}}
}
\newcommand*{\thesisTitle}{
    \ClassError{thesis}{You must give a title using \protect\title{}}
}
\newcommand*{\thesisReader}{
    \ClassError{thesis}{You must give a reader using \protect\reader{}}
}

%%
%% Give default values for optional parameters.
%%
\newcommand*{\th@readerThree}{none}
\newcommand*{\th@readerFour}{none}
\newcommand*{\th@readerFive}{none}

\newcommand{\th@abstractStash}{
    \ClassError{thesis}{
        You must specify an abstract!}
    {Use the \protect\abstractpage[]{} command in the \MessageBreak
        preamble.  If your abstract runs over a page, \MessageBreak
        use the optional argument with the word 'long'.}
}
%by Daniel

\newcommand*{\th@signature}[1]{
        \begin{center}
        \normalsize
        \vspace*{2.5ex}
        \vrule width 80mm height 0.2mm
        \\
        #1
        \end{center}
}

\newcommand*{\th@dateline}{
    \vspace*{9mm}
    \begin{flushright}
        Date荟蝓戾鏖漪车眄桢殓梏爱岔睚苠钿骒躞栩殓梏茴鬻泔眄犷潲荇枥菱篝蜥泗嗅珏郁戾茯屐狲茴鬻泔眄犷潲荇枥溴溟汜糸镱郁狍椠茯屐狲茴鬻泔眄犷潲荇枥溴溟汜糸镱蚤綮逵翎箬茯屐狲茴鬻泔眄犷潲荇枥徙腩秣戾溏屙孱趔郁狍椠茯屐狲茴鬻殒荛胬箬矧籼锲茴鬻殒荛胬箬矧籼镌茴鬻殒荛胬箬矧粼锩茴鬻殒荛胬磲脲铒田茴鬻殒荛胬磲脲铒田茴鬻殒荛胬磲脲腻溟汜糸镱茴鬻殒荛胬磲脲零腩秣戾溏屙孱趔茴鬻殒荛胬磲脲序镬镧蹂茴鬻殒荛胬磲脲澡弩轶蔑瘗蜷玷粜徵芾箬矧籼锲驷祗芾箬矧籼镌驷祗芾箬矧粼锩驷祗芾磲脲铒田奇犰箦芾磲脲铒田枣犰箦芾磲脲澡弩轶蔑瘗蜷玷粜徵彐犰箦芾磲脲腻溟汜糸镱驷祗芾磲脲零腩秣戾溏屙孱趔驷祗芾磲脲序镬镧蹂趄蹂澡忉箦泔眄犷潴翳狒磲脲犰镦翳痱镬镧蹂疳珏螽茴鬻泔眄犷潲荇枥菱篝蜥泗疳珏苠铎狎珏翳轶疳珏返轭荇栝箴徵弩豉戾屙痿茕秕忪弩疳汩铉荟箴徙濯垢轭盹溟骈邃怡曙桀麽构茆彗轭沐铘弪谅釉伊迷苘荏轭珈弩疳汩铉荇桢箝笤轸戾苘茕秕忪弩疳汩铉荇桢箝罅豸栾蛭犴瀣需漠苘龄鲩箫蚝荇桢箝笸孱麸ボ孱潲扉篝荟箴徙濯爱案轭苠钿沐铘弪ボ滹踱戾箴徙轭荇枥徕篝蜥泗骈钺祆翳徙趱犰徕篝蜥泗ボ铄縻镯磲钿荇桢箝笤轸戾嗅珏荇栝箴徵弩豉戾屙痿茕秕忪弩疳汩铉莛徵孱蹴忮蜷铉蝻磲铨荟箴徙濯碑暗甸铨ロ镤殒殄怡曙桀茆彗轭沐铘弪荇桢箝笤轸戾苠钿沐铘弪荟箴徙濯碑吵轭ロ镤殒殄怡尼铋屐茆彗轭沐铘弪拈篌弪翎糸镱吁忭轸翦麸翳球徜踽翦漆沲祠镦苘箩祜疹轹弪箝豉苘轭嗅螋獒契戽殪祉孱镦翳遘义聃轵屙孱趔骘翳腻珧邋苘镦苘娘泗矧镦需殪矬镳棂苘荟箴徙濯爱返轭ロ镤殒殄怡尼铋屐蛮苘荇桢箝罅豸栾蛭犴遘荟箴徙妍碑车轭ロ镤殒殄怡尼铋屐揍泔藻狍苘荇桢箝竺镱婺狒苠钿沐铘弪莛徵邂蝈犭ゥゥ歪脲翳箝珙狒躜疳珏盹溟骈邃怡曙桀茴鬻泔眄犷洫荇桢箝笸犭逵殓钺趱蝈嗅珏苠铎狎珏翳轶疳珏遍铨泸遽翦返骝镯怙趑镯镦溴犷钺礤麸疳珏怙趑镯犷钡倍钩返骝镯怙趑镯镦箝扉铄麸疳珏怙趑镯苠铎狎珏翳轶疳珏返轭泸遽翦返骝镯怙趑镯镦溴犷钺礤麸疳珏怙趑镯犷钡倍钩返骝镯怙趑镯镦箝扉铄麸疳珏怙趑镯荇栝箴徵弩豉戾屙痿荏轭珈弩疳汩铉茆彗轭沐铘弪茕秕忪弩疳汩铉荏轭珈弩疳汩铉荇桢箝笤轸戾苘茕秕忪弩疳汩铉怡苘荇桢箝罅豸栾蛭犴瀣荠秕蚰彗蝈弩苘拈篌弪翎糸镱苘琉痱秭邃怡翳腻疳螋礤铘镦需箝泱荏轭珈弩疳汩铉荇枥箝珙狒躜妍荇桢箝竽屦裘栳轵描衢蝠弪箫铨吁忭轸翦麸翳球徜踽翦漆沲祠镦苘箩祜疹轹弪箝豉轭嗅螋獒契戽殪祉孱镦翳遘义聃轵屙孱趔骘翳腻珧邋苘镦苘娘泗矧镦需殪矬镳棂苠钿沐铘弪荟箴徙濯爱窗轭茆彗轭骒躞桁彐酏荑箴徙濯爱撮铨茆彗轭翎怩灬颡赴眄埕蓰泯琉痱秭邃怡翳拈篌弪翎糸镱蔑眄轸翦苘苘苘荑扉铄荇桢箝笸孱麸描衢蝠弪箫苘苘苘荑扉铄荇桢箝笠遽溴苘遗颜梢拍苘苘荑扉铄荇枥蝈徜弪澡蝈苘镳糸镱犰苘苘荑扉铄荇枥蝈徜弪骑躜苘镳糸镱犰苘苘荑扉铄荇枥蝈徜弪崎鲥苘镳糸镱犰苠钿翎怩灬颡苠钿骒躞桁彐酏ボ鲶疳沐鞍鞍鞍鞍驳轭荟骈祆茆彗轭骒躞栩殓梏茆彗轭翎怩灬颡兜眄泯零沐痿邃怡翳球徜踽翦鱼栾镬苘荇桢箝竺镱婺狒苘苘苘荑扉铄荇桢箝笄蜥漉狒迥遽腻犷苠钿翎怩灬颡苠钿骒躞栩殓梏荟箴徙濯卑轭茆彗轭沐铘弪ボ忮玳铥翎怩灬颡蛋眄垅蓰泯荏泸轲趔辁妍荛嗅珏忮狎轭箝珙狒躜弩轶脲痿镱骈戾轭翳球徜踽翦鱼栾镬ボ孱潲翎怩灬颡苠钿沐铘弪荇栝箴徵弩豉戾屙痿莛徵邂蝈犭歪脲泔瘗蜷玷疳珏骘翳轶翳弩轶茴鬻泔眄犷洫荇桢箝竺镳蜷玷粜徵妪荇栝箴徵弩豉戾屙痿荛胬磲脲澡弩轶蔑瘗蜷玷粜徵荟箴徙濯府暗轭ロ镤殒殄怡曙桀ヮ屮扉铄盹溟骈邃怡尼铋屐茆彗轭沐铘弪蔑瘗蜷玷茔镳蜷玷荇桢荠遽蜍怡荇桢箝罅豸栾蛭犴苘荟箴徙妍爱遍铨领蜷玷趔蝈箦蝣邃苠钿沐铘弪苠祗骑蜚忪犷疳珏荟箴徙濯爱遍铨茯屐狲苕莛徵邂蝈犭歪脲翳箝珙狒躜疳珏盹溟骈邃怡尼铋屐ボ铄縻镯磲钿荇桢箝笸犭逵殓钺趱蝈嗅珏荇栝箴徵弩豉戾屙痿ボ箝铉戾箴徙轭荟箴徙濯碑舶恫甸铨ロ镤殒殄怡曙桀ボ忮玳铥沐铘弪琉痱秭邃怡翳腻疳螋礤铘镦歪翳屙狒殂蠛ボ翳荔殓钺趱蝈荇桢箝竽屦裘栳轵描衢蝠弪箫铨荟箴徙濯碑烽铨琉痱秭邃怡翳拈篌弪翎糸镱蔑眄轸翦搴ボ翳荔殓钺趱蝈荇桢箝笸孱麸描衢蝠弪箫铨ボ翳荔殓钺趱蝈荇桢箝笠遽溴螨遗颜梢拍ボ殒翳孱屐箦苠聃犰荇枥蝈徜弪澡蝈妪铒铄茯屐狲荇枥箝珙狒躜妍荇枥蝈徜弪澡蝈妪镳糸镱犰ボ殒翳孱屐箦苠聃犰荇枥蝈徜弪骑躜铒铄茯屐狲荇枥箝珙狒躜妍荇枥蝈徜弪骑躜镳糸镱犰荛骠桢铄祗妍苠聃犰荇枥蝈徜弪崎鲥铒铄茯屐狲荇枥箝珙狒躜妍荇枥蝈徜弪崎鲥镳糸镱犰荟箴徙濯碑抽铨ロ镤殒殄怡曙桀チ痧蝻鲥怡翳球徜踽翦鱼栾镬ボ翳荔殓钺趱蝈荇桢箝笄蜥漉狒迥遽腻犷ボ孱潲沐铘弪荇栝箴徵弩豉戾屙痿莛徵邂蝈犭茴鬻泔眄犷潲荇枥零腩秣戾溏屙孱麴徵妪荇栝箴徵弩豉戾痨衢铨荛胬磲脲零腩秣戾溏屙孱趔ロ镤殒殄怡尼铋屐茚滗泔铘孱趔扉铄麸泯疳螋茴矧磲戽镱糗铒蝽犰箝撩宋献膛那团卧榆鲶疳沐伴铨荟箴徙濯爱安轭茴矧磲戽镱糗铒蝽犰箝茆彗轭沐铘弪撩宋献膛那团卧苠钿沐铘弪荟箴徙妍爱胺轭茕秕忪弩疳汩铉荇枥徙腩秣戾溏屙孱趔郁狍苕茴鬻泔眄犷潲荇枥腻溟汜糸镱疳珏茔戾狎疳珏荇栝箴徵弩豉戾痨衢铨荛胬磲脲腻溟汜糸镱茚滗泔铘孱趔扉铄麸泯疳螋茴矧磲戽镱糗铒蝽犰箝荟箅轲甸呐纳昧陨衔荟箴徙濯伴铨荟箴徙濯爱安轭茴矧磲戽镱糗铒蝽犰箝茆彗轭沐铘弪呐纳昧陨衔苠钿沐铘弪荟箴徙妍归铨筢砗溟铒扉脲翳呐纳昧陨衔翦轭茴矧磲戽镱糗铒蝽犰箝茆彗轭沐铘弪苠钿沐铘弪荟箴徙妍归铨茕秕忪弩疳汩铉荇枥溴溟汜糸镱郁狍荛骠桢铄祗妍苠聃犰荇枥腻媪蜱荇枥溴溟汜糸镱蚤綮逵翎箬荟骈祆茯屐狲苕茴鬻泔眄犷潲荇枥燥灭徵妪芾匀箬矧裘栳痿弪驷祗荛胬箬矧粼锩芾匀箬矧裘栳痿弪趄蹂荇疱秕酐歪腴铉予矧燥卯苕芾翳深儒徜轭珂犰箦茕秕忪弩疳汩铉荇徕戾镦泔铘孱趔茴鬻泔眄犷潲荇枥田起徵妪ロ镤殒殄怡尼铋屐ボ滹踱戾箴徙轭ヂ铄邃箝铉戾箴徙瀹迈滹踱戾忮赭邋孱趄殄螽茚滗泔铘孱趔扉铄麸泯疳螋茴矧磲祗辁遘梵疳沐爱岸驳轭荟箴徙濯爱甸铨莒轶翩殓躜孱犴遘铒蝽犰骘铘荟箴徙濯沟轭疳蜥礤翦蝮徕秭徭驽泗燥箴徙轭镱禊ボ扉篝镦骈珲蝈ン犴翳轶轶麸徜滹踱戾箴徙忮赭邋孱趄殄螽茆彗轭珧秕茯孱鬻泔眄犷滠徜漩箴徙遨陛荏弭戾铉翳莛狎箅轲茆狍屐轭弩腴瘕莒轶麸骀殓躜弩苠钿珧秕茴鬻泔眄犷潲荇枥田责徵妪ロ镤殒殄怡尼铋屐荇疱秕酐歪腴铉予矧田援ボ滹踱戾箴徙轭ン犴抡骘蜮殇滹踱戾箴徙轭犷孱趄箫箝铉戾箴徙鏖翳轭犷孱趄茚滗泔铘孱趔扉铄麸泯疳螋茴矧磲祗辁遘梵疳沐爱岸驳轭荟箴徙濯爱炊轭莒轶趑徕戾钺礤茴矧磲戽镱糗鲶疳沐归铨ボ扉篝镦翎忪弩ン犴翳轶轶麸徜滹踱戾箴徙忮赭邋孱趄殄螽茆彗轭珧秕茯孱鬻泔眄犷滠徜漩箴徙遨陛荏弭戾铉翳莛狎箅轲茆狍屐轭弩腴瘕莒轶麸骠徕戾苠钿珧秕澡轶疱蜴矧眢翳徙趱犰珏铄蜥糸镱镦翳痱镬镧蹂茴鬻泔躅翦螓翳荔麸蝈疳珏茴鬻泔眄犷潲荇枥歪脲澡弩轶序镬镧蹂荛胬磲脲序镬镧蹂莛徵孱蹴忮蜷铉蝻磲铨荇枥菱篝蜥泗疳珏莛徵邂蝈犭荇桢箝笸犭逵殓钺趱蝈嗅珏荇桢箝笤轸戾嗅珏荇桢箝竺镳蜷玷粜徵茚滗麸泔躅翦螓疳珏饼荏弭泔躅翦螓翳荔麸蝈疳珏荟犰蹂疳珏莛徵弩豉戾痨衢铨荇枥燥灭徵莛徵邂蝈犭莛徵弩豉戾痨衢铨荛胬磲脲铒田茯屐狲苠祗荇枥田起徵莛徵邂蝈犭莛徵弩豉戾痨衢铨苕荛胬磲脲铒田茯屐狲苠祗荇枥田责徵莛徵邂蝈犭苕荇枥零腩秣戾溏屙孱麴徵荇枥腻溟汜糸镱疳珏苕莛徵弩豉戾痨衢铨ゥゥ阴箫礤箴邈獒泔眄犷潴麒孱翳滹沲礤铘骈蝮篝狎趔ゥ莒弭荇枥响渎彗轭娘沲礤铘茕镢蹴孱茯孱鬻泔眄犷洫茕镢蹴孱酏荇枥响渎彗轭娘沲礤铘荇枥歪脲澡弩轶序镬镧蹂茕秕忪弩疳汩铉茔戾狎疳珏莛徵孱蹴忮蜷铉狎徕殂芾匀箬矧裘栳痿弪驷祗ゥゥ嗅蜥礤翦蝮屮疱泗邃轭翳痱镬镧蹂ゥ茯孱鬻泔眄犷洫荇轸戾郾蓰荇枥郁矧迳铥荇桢箝笤轸戾１茴鬻泔眄犷洫茼孱麸螨郾蓰荇枥郁矧迳铥荇桢箝笸孱麸螨１茴鬻泔眄犷洫茯遽溴螨郾蓰荇枥郁矧迳铥荇桢箝笠遽溴螨１茴鬻泔眄犷洫茕屦裘栳轵郾蓰荇枥郁矧迳铥荇桢箝竽屦裘栳轵１茴鬻泔眄犷洫茜蜥漉狒迥遽铨郾蓰荇枥郁矧迳铥荇桢箝笄蜥漉狒迥遽铨１茴鬻泔眄犷洫茔镱婺狒妪郾蓰荇枥郁矧迳铥荇桢箝竺镱婺狒妪１茴鬻泔眄犷洫茯遽溴蛟栩邋郾蓰荇枥郁矧迳铥荇枥蝈徜弪澡蝈妪１茴鬻泔眄犷洫茯遽溴蚱秕螨郾蓰荇枥郁矧迳铥荇枥蝈徜弪骑躜１茴鬻泔眄犷洫茯遽溴蚱轹妪郾蓰荇枥郁矧迳铥荇枥蝈徜弪崎鲥１茴鬻泔眄犷潲茚汶铒黛邃珏礤铘簖郾蓰芾磲脲零腩秣戾溏屙孱趔趄蹂荇枥郁矧迳铥荇枥徙腩秣戾溏屙孱趔郁狍椠荑箴徙妍爱车轭１茴鬻泔眄犷潲茕邃殂狒轱铨鄄蒇荇枥腻媪蜱蓰芾磲脲腻溟汜糸镱趄蹂荇枥郁矧迳铥荇枥溴溟汜糸镱蚤綮逵翎箬１荇枥郁矧迳铥荇枥溴溟汜糸镱郁狍椠２茯孱鬻泔眄犷洫茚豸栾螨郾蓰荇枥郁矧迳铥荇桢箝罅豸栾蛭犴妪１茴鬻泔眄犷洫茕彗蝈弩郾蓰荇枥郁矧迳铥荠秕蚰彗蝈弩１茯孱鬻泔眄犷潲茚怏趄徙酏郾蓰荇枥郁矧迳铥荇枥徕篝蜥泗荑箴徙濯爱驳轭１茴鬻泔眄犷洫苡躞疱钿序镬镧蹂芾磲脲序镬镧蹂驷祗荇疱秕酐物痱镬镧蹂疳珏痱轭翦洚茴鬻泔眄犷洫茼犭迕镳蜷玷粜徵妪芾磲脲澡弩轶蔑瘗蜷玷粜徵弭蝓荇疱秕酐蔑瘗蜷玷疳珏鏖祆忮痱轭翦洚茴鬻泔眄犷洫苠眇豉田讫芾磲脲铒田启蝓荇疱秕酐物田痱轭翦潺茴鬻泔眄犷洫苠眇豉田札芾磲脲铒田贼蝓荇疱秕酐物田痱轭翦潺茴鬻泔眄犷洫茉锩轶予矧酏芾箬矧粼锩趄蹂荇疱秕酐絮趑轭疳珏铛礅弪镱箬矧燥谬茴鬻泔眄犷洫芴锲轶予矧酏芾箬矧籼锲趄蹂荇疱秕酐絮趑轭疳珏铛礅弪镱箬矧田讫茴鬻泔眄犷洫芴镌轶予矧酏芾箬矧籼镌趄蹂荇疱秕酐絮趑轭疳珏铛礅弪镱箬矧田札テ蝻桢蝈镱轶犰盹溟骈邃怡尼铋屐茯孱鬻泔眄犷潲荏邈糸镱芾篝狎趔邈糸镱箦泗轱铨饼梆酏伯靛痨躞板黹铛板爱鞍卞痨躞板黹铛板茔孱翦蜷铉茴矧磲戽镱糗轸箬狃遘铒蝽犰箝妪茯孱鬻泔眄犷潲荏踱箦泗轱铨芾篝狎趔邈糸镱篚怏邈糸镱昌梆酏伯靛痨躞板黹铛板爱鞍卞痨躞板黹铛板茴矧磲戽镱糗轸箬狃遘铒蝽犰箝妪ヲ邃彐轭轸轱镦翳汜痿轱瞵ラ箬秕熹铒栳鲥泔祜徭翦翳骈珲蝈铛礅弪ラ铙翦徜轸箬秕熹栳鲥痫轭莒镱畿溴孳理犭邈狃糸镱１２荟箅轲茚怙鲥汜痿轱铙腴荏怙芾翦眇怙猁１２荛驿轫荀滠吏屙疴秫拒梵辁１２莛狎苠祗茜祜忉芾黹铋疳珏驷祗荑饫衾荑箝妍荑骈燔怙芾翦眇怙彳桄殪苕荟箅轲茆屐秣汜痿轱铙腴瘕ゥ匀捎捎兹猎琢怩翳懋篝ゥ澡轶轶盹溟骈邃鲥蝮轱镦翳骈戾噌眢翳懋篝Кゥ珏铄蜥翦鏖翳翳滹泱趄轲豸殪轸ゥゥ澡矧殓轭犰箫躜沐骈戾麇蝈ゥゥ犴筱灬篌漪鏖翳镳糸镱蠛噌眢翳恣ゥゥ浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇ゥ捞嵩遑骈戾ゥ骈戾钺礤⑨眢沆狍螽漪ゥ鲥蝮轱⒉案ゥ溽翦⒉鞍隘卑捕ゥ糸礤⒈岛捕撼拍寓ゥ汨邈塍蹴⒉驳档锤洞惫辈狈炒驳ゥ狨翳矧⒘礤蜷汜歪翳屙狒殂犰语汩弭ゥ泔瘗蜷玷⒚镳蜷玷惫沟惫构另弪殂犷歪翳屙狒殂犰语汩弭ゥ犰蜷玷趔蝈箦蝣邃蔑瘗轭镦翳轶骈戾轶ゥ狨翳矧辁邃镱禊殒彘翳弪ゥū秕磲脲徕箫祯翦禊铒汨犷珏麸秕泔瘗ゥ轭沆蹁轭钺礤弦ゥú殒秕滹磲脲汨犷珏蟋秕骈蝮蝈钺礤轸ゥ麸箫礤雉桢钺礤ゥ徜潋弩⒘礤蜷汜歪翳屙狒殂犰语汩弭ゥ藻汨铋汜吁痧矧衄ゥ澎邈趄镱殂序镤蹉趔犷渝蝣殂弩ゥ挟袭嘛恫锤ゥ序秭殇孱沐疑安勾艾ゥ沼立ゥ翦戾痂镱⒋氨吹淡窗赴矧ㄩ翳沼犷冕钺溽ゥ赴碍巢杯戳陀ǔ脖床斗ゥ屏⒋氨吵杯掣床ゥ屙衢Ⅳ邈璀篚痧矧衾犴螽矧ㄉ铘弪铄舂ゥ泔溴翎忪⑸酉劣蒙散ゥ脲黠蜾㈧狒屮镣蝇滹沲礤铘沆狍蟋翳屣蝈恝ゥ篚痧矧翦Ⅸ弩ゥ徕篝蜥泗⒃栝轶翳箫躜沐骘翳犴篝桧疳汶徵犷翳蝈ゥ镣滹沲礤铘沆狍箦蠛犴筢螋犴箴蝻悻犷犴筲镲氘ゥ澡妁狎溴箝珙邃骘躞鏖翳提藻禺ゥ滹泱趄轭⒃桢汨邈塍蹴骈屐徕秭泔铘衢铙靡铆倍ゥ汨邈塍蹴狍翳骈蝮鲠祯瀣骘祆秣邃怡翳ゥ羼蹰鲠戾铘镦翳篝犷溽蜾瘴韶縻黠蜾ゥ泔躅舂豸殪轸秕麴豸镦扉铄蟋黠蜾蟋犷ゥ汨狎徙翦蝮澡轶轶痱镤蹉邃怡绎忮螋ゥ语祜鲠汨邈塍蹴豸殪轸ゥゥ浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇浇芪邋潴藻仄矧磲酐提藻夭妪提藻伯肮汜瞌忮躞邃铒铒瞽提藻丞郾构疮辈氨荪提藻溽翦眭篝腻沐礅弪惫勾矧灬翦苄蝻鲩溴笮徙脶珏犴篝桧鄄鞍隘卑捕霾案莒弭芾鸾苠疳钿徭翦莒弭芾铠杰铒屮疳钿茕彐芾镳狎纾臂２蓰芾殒铄翥栳蜊１１郏草莒镱畿溴孳篱驽眇豉１芾殒屙痿１览芾铋忑莒镱畿溴孳励殒屙痿１２溃常矗弟李殪荛骧３４芾疖梨轵篝镦赭镘屐箦芾疖荔邈镱滹骠黠苕辇莒镱畿溴孳篱骖雉屙痿１芾殒屙痿１茕彐荏弭怙黎荏弭怙茭儡桠秫茕彐芾徜漯躅泗１荛骖蹴荏疳沐驷泗矧拒理苠祗澹避骈茕彐苕蝈钽梵疳汩铉荏驺镤遴墚卑岸荏驺镤遴芸卑暗荏驺镤遴堋卑按荏驺镤遴芎卑俺荏驺镤遴芑卑安荏驺镤遴墁卑氨苣邈灬蝈橡糸镱荛铕豸苊躜蝈铘橡糸镱翳睚苄蝻沐篌橡糸镱茴鬻泔眄犷潲荇桢矧屙篝戾郾蓰芾殒躅溴骈铄潲翳溃饼苄徙脶珏揍蝾轭琨犴篝桧疹腩秣翳屣蝈眢豉戾啵抱荇桧荔豉戾痨衢铨荇桧荔豉戾１茴鬻麸塍荇桧荔豉戾荇桧荔豉戾痨衢铨茴鬻麸塍荇桧棱镤骘铘荇桧棱镤骘铘荛趔栳疱茴鬻麸塍荇桧黎遽滏镱荇桧黎遽滏镱酐茴鬻麸塍荇桧李雉彐镱荇桧李雉彐镱酐茴鬻麸塍荇桧黎遽漯躅泗荇桧黎遽漯躅泗茴鬻箅轲荇桧鲤蝈箅轲茴鬻箅轲荇桧鲤矬趔腴茕彐荇桧荔疳沐荔弭躔荇桧鲤蝈箅轲杰麸痼屦荇桧鲤矬趔腴鸾荇桧鲤蝈箅轲茯孱鬻泔眄犷潲茴鬻翳屣蝈睚芾殒篝狎芾铘桧芾铘桧茯屐狲茕彐芾铘桧１２莒弭芾翦眇彳蝈灬芾疖篱驿彐轭徕戾茔箢犴２苠钿泱钺礤茜祜忉燔励疖戾糗泱钺礤孱洌曹孱溷箢犴遘厘钿翳屣蝈荛骧１躅铛礅弪邃铄邃麸珏镱盹蝈磲钿狒矧狎苠溴孳吏屙疳＃丙茜溴孳励疖李茔箢犴澹曹孱溷箢犴妍芾铠芾翳睇芾疖李茔箢犴翳儡翳遘翳砝篝戾苠钿泱钺礤＃饼苠祗铛礅弪邃翳屣蝈憩铄邃麸汨邈骘镳糸镱犰狎茕彐芾翦眇猁芾镳狎琨芾铘桧２圯苕芾翦眇茕彐芾铘桧１郏草３荛骧茯屐狲２茯屐狲茕彐芾翦眇猁芾镳狎琨芾翳睇１３圯苠祗芾殒躅溴骈铄潲憷２茕彐芾翦眇猁芾铒泔躅翦蝌２芾疖溴孳泱钺礤翳澹避孱溷箢犴妍芾疖李茔箢犴翳澹曹孱溷箢犴妪荇镫罄３芾疖溴孳泱钺礤１苠钿泱钺礤芾铠芾翳睇莒弭芾铠荇桧荔麽荛榆翳砝篦狃芾铠芾骈蝮麸骠黠苠祗遘李芾顼忖戾苕芾疖李茔箢犴翳儡翳遘翳砝篝戾苠钿泱钺礤２荇桢荇镫罄莒弭芾翦眇彳蝈灬苕芾翦眇茕彐芾翳恚保槽３蓰荛骧茯屐狲３茯屐狲茴鬻泔躅翦螓１苠祗茴鬻泔躅翦螓１郏齿芾疖溴孳泱钺礤翳澹避孱溷箢犴妍芾疖李茔箢犴翳澹耻孱溷箢犴芾翳磴秕铘弪箦疖吏桧泔躅翦螓１苕荇镫罄２芾疖溴孳泱钺礤１苠钿泱钺礤芾铠芾翳睇莒弭芾铠荇桧荔麽荛榆翳砝篦狃芾铠芾骈蝮麸骠黠苠祗遘李芾顼忖戾苕芾疖李茔箢犴翳儡翳遘翳砝篝戾苠钿泱钺礤１荇桢荇镫罄茕彐芾翳恚保玻雏荛骅盹溴荃铙腴疖躅箅轲莛狎苕茴矧磲戽镱荇蜷鲮轶莒弭荇桧桢徜铎茯屐狲莒弭荇桧荔麽疖犁镡忪荇桧黎遽漯躅泗徜疱蜷镤徭翦桢徜轭荇桧黎遽潴屦弟鹄痨躞莛黹铛筌鹄茯屐狲荇桧荔疳沐荔弭躔１篝戾秭弪蜷溴芾麸痼屦荇桧鲤蝈箅轲躞邃怡翳桢徜芾麸痼屦徜荇桧鲤矬趔腴躞邃怡芾孱漯狎孱茕彐芾翦眇猁２荛骧芾屙痿芾翦眇茕彐芾翦眇猁芾镳狎琨芾忮玳铘桢矧屙３圯苠祗茯彐篝屦泔躅翦螓２茕彐芾翦眇猁芾镳狎琨芾忮玳铘桢矧屙３茔箢犴翳澹曹孱溷箢犴妪圯苕芾翦眇茕彐芾蝈篝矧屐徕屐箦瘥茯屐狲莒弭芾翳碥蝈灬莒弭荇桧钺礤芾殇孱莒弭荇桧铒翦芾殇孱莒弭荇桧铛礅弪芾殇孱莛蝻鲩溴泔眄犷滠栗痤荇屮趱瘕茕彐荇桧桢徜鲤灬轭１２３荇桧钺礤１荇桧铛礅弪芾殒铒翦眇豉１芾躔铥２荇桧铒翦荇桢荇桧李雉彐镱舁３莒弭荇桧桢徜荇桧桢徜鲤灬轭茕彐荏麽痧邃桢徜１２３荇桧铛礅弪２荇桧钺礤芾殒铒翦眇豉２#1}%
  \thmnote{ {\the\thm@notefont(#3)}}}
\let\thmheadnl\relax
\let\thm@indent\noindent
\let\thm@swap\@gobble
\def\@begintheorem#1#2[#3]{%
  \deferred@thm@head{\the\thm@headfont \thm@indent
    \@ifempty{#1}{\let\thmname\@gobble}{\let\thmname\@iden}%
    \@ifempty{#2}{\let\thmnumber\@gobble}{\let\thmnumber\@iden}%
    \@ifempty{#3}{\let\thmnote\@gobble}{\let\thmnote\@iden}%
    \thm@swap\swappedhead\thmhead{#1}{#2}{#3}%
    \the\thm@headpunct
    \thmheadnl % possibly a newline.
    \hskip\thm@headsep
  }%
  \ignorespaces}
\newskip\thm@headsep
\thm@headsep=5pt plus1pt minus1pt\relax
\let\adjust@parskip@nobreak=\@nbitem
\newtoks\dth@everypar
\dth@everypar={%
  \@minipagefalse \global\@newlistfalse
  \if@inlabel
    \global\@inlabelfalse
    \begingroup \setbox\z@\lastbox
     \ifvoid\z@ \kern-\itemindent \fi
    \endgroup
    \unhbox\@labels
  \fi
  \if@nobreak \@nobreakfalse \clubpenalty\@M
  \else \clubpenalty\@clubpenalty \everypar{}%
  \fi
}%
\def\deferred@thm@head#1{%
  \if@inlabel \indent \par \fi % eject a section head if one is pending
  \if@nobreak
    \adjust@parskip@nobreak
  \else
    \addpenalty\@beginparpenalty
    \addvspace\@topsep
    \addvspace{-\parskip}%
  \fi
  \global\@inlabeltrue
  \everypar\dth@everypar
  \sbox\@labels{\normalfont#1}%
  \ignorespaces
}
\def\nonslanted{\relax
  \@xp\let\@xp\@tempa\csname\f@shape shape\endcsname
  \ifx\@tempa\itshape\upshape
  \else\ifx\@tempa\slshape\upshape\fi\fi}
\def\swapnumbers{\edef\thm@swap{\if S\thm@swap N\else S\fi}}
\def\thm@swap{N}%
\let\@opargbegintheorem\relax
\def\th@plain{%
%%  \let\thm@indent\noindent % no indent
%%  \thm@headfont{\bfseries}% heading font is bold
%%  \thm@notefont{}% same as heading font
%%  \thm@headpunct{.}% add period after heading
%%  \let\thm@swap\@gobble
%%  \thm@preskip\topsep
%%  \thm@postskip\theorempreskipamount
  \itshape % body font
}
\def\th@definition{%
  \normalfont % body font
}
\def\th@remark{%
  \thm@headfont{\itshape}%
  \normalfont % body font
  \thm@preskip\topsep \divide\thm@preskip\tw@
  \thm@postskip\thm@preskip
}
\def\@endtheorem{\endtrivlist\@endpefalse }
\newcommand{\newtheoremstyle}[9]{%
  \@ifempty{#5}{\dimen@\z@skip}{\dimen@#5\relax}%
  \ifdim\dimen@=\z@
    \toks@{#4\let\thm@indent\noindent}%
  \else
    \toks@{#4\def\thm@indent{\noindent\hbox to#5{}}}%
  \fi
  \def\@tempa{#8}\ifx\space\@tempa
    \toks@\@xp{\the\toks@ \thm@headsep\fontdimen\tw@\font\relax}%
  \else
    \def\@tempb{\newline}%
    \ifx\@tempb\@tempa
      \toks@\@xp{\the\toks@ \thm@headsep\z@skip
        \def\thmheadnl{\newline}}%
    \else
      \toks@\@xp{\the\toks@ \thm@headsep#8\relax}%
    \fi
  \fi
  \begingroup
  \thm@space@setup
  \@defaultunits\@tempskipa#2\thm@preskip\relax\@nnil
  \@defaultunits\@tempskipb#3\thm@postskip\relax\@nnil
  \xdef\@gtempa{\thm@preskip\the\@tempskipa
    \thm@postskip\the\@tempskipb\relax}%
  \endgroup
  \@temptokena\@xp{\@gtempa
    \thm@headfont{#6}\thm@headpunct{#7}%
  }%
  \@ifempty{#9}{%
    \let\thmhead\thmhead@plain
  }{%
    \@namedef{thmhead@#1}##1##2##3{#9}%
    \@temptokena\@xp{\the\@temptokena
      \@xp\let\@xp\thmhead\csname thmhead@#1\endcsname}%
  }%
  \@xp\xdef\csname th@#1\endcsname{\the\toks@ \the\@temptokena}%
}
\DeclareRobustCommand{\qed}{%
  \ifmmode \mathqed
  \else
    \leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill
    \quad\hbox{\qedsymbol}%
  \fi
}
\let\QED@stack\@empty
\let\qed@elt\relax
\newcommand{\pushQED}[1]{%
  \toks@{\qed@elt{#1}}\@temptokena\expandafter{\QED@stack}%
  \xdef\QED@stack{\the\toks@\the\@temptokena}%
}
\newcommand{\popQED}{%
  \begingroup\let\qed@elt\popQED@elt \QED@stack\relax\relax\endgroup
}
\def\popQED@elt#1#2\relax{#1\gdef\QED@stack{#2}}
\newcommand{\qedhere}{%
  \begingroup \let\mathqed\math@qedhere
    \let\qed@elt\setQED@elt \QED@stack\relax\relax \endgroup
}
\newif\ifmeasuring@
\newif\iffirstchoice@ \firstchoice@true
\def\setQED@elt#1#2\relax{%
  \ifmeasuring@
  \else \iffirstchoice@ \gdef\QED@stack{\qed@elt{}#2}\fi
  \fi
  #1%
}
\def\qed@warning{%
  \PackageWarning{amsthm}{The \@nx\qedhere command may not work
    correctly here}%
}
\newcommand{\mathqed}{\quad\hbox{\qedsymbol}}
\def\linebox@qed{\hfil\hbox{\qedsymbol}\hfilneg}
\@ifpackageloaded{amsmath}{%
  \def\math@qedhere{%
    \@ifundefined{\@currenvir @qed}{%
      \qed@warning\quad\hbox{\qedsymbol}%
    }{%
      \@xp\aftergroup\csname\@currenvir @qed\endcsname
    }%
  }
  \def\displaymath@qed{%
    \relax
    \ifmmode
      \ifinner \aftergroup\linebox@qed
      \else
        \eqno
        \let\eqno\relax \let\leqno\relax \let\veqno\relax
        \hbox{\qedsymbol}%
      \fi
    \else
       \aftergroup\linebox@qed
    \fi
  }
  \@xp\let\csname equation*@qed\endcsname\displaymath@qed
  \def\equation@qed{%
    \iftagsleft@
      \hbox{\phantom{\quad\qedsymbol}}%
      \gdef\alt@tag{%
        \rlap{\hbox to\displaywidth{\hfil\qedsymbol}}%
        \global\let\alt@tag\@empty
      }%
    \else
      \gdef\alt@tag{%
        \global\let\alt@tag\@empty
        \vtop{\ialign{\hfil####\cr
                \tagform@\theequation\cr
                \qedsymbol\cr}}%
        \setbox\z@
      }%
    \fi
  }
  \def\qed@tag{%
    \global\tag@true \nonumber
    &\omit\setboxz@h {\strut@ \qedsymbol}\tagsleft@false
    \place@tag@gather
    \kern-\tabskip
    \ifst@rred \else \global\@eqnswtrue \fi \global\advance\row@\@ne \cr
  }
  \def\split@qed{%
    \def\endsplit{\crcr\egroup \egroup \ctagsplit@false \rendsplit@
      \aftergroup\align@qed
    }%
  }
  \def\align@qed{%
    \ifmeasuring@ \tag*{\qedsymbol}%
    \else \let\math@cr@@@\qed@tag
    \fi
  }
  \@xp\let\csname align*@qed\endcsname\align@qed
  \@xp\let\csname gather*@qed\endcsname\align@qed
%% Needs some patching up for amsmath 1.2
}{% end of amsmath branch, start plain LaTeX branch
  \def\math@qedhere{%
    \@ifundefined{\@currenvir @qed}{%
      \qed@warning \aftergroup\displaymath@qed
    }{%
      \@xp\aftergroup\csname\@currenvir @qed\endcsname
    }%
  }
  \def\displaymath@qed{%
    \relax
    \ifmmode
      \ifinner \aftergroup\aftergroup\aftergroup\linebox@qed
      \else
        \eqno \def\@badmath{$$}%
        \let\eqno\relax \let\leqno\relax \let\veqno\relax
        \hbox{\qedsymbol}%
      \fi
    \else
       \aftergroup\linebox@qed
    \fi
  }
  \@ifundefined{ver@leqno.clo}{%
    \def\equation@qed{\displaymath@qed \quad}%
  }{%
    \def\equation@qed{\displaymath@qed}%
  }
  \def\@tempa#1$#2#3\@nil{%
    \def\[{#1$#2\def\@currenvir{displaymath}#3}%
  }%
  \expandafter\@tempa\[\@nil
}
\@ifpackageloaded{amstex}{%
  \def\@tempa{TT}%
}{%
  \@ifpackageloaded{amsmath}{%
    \def\@tempb#1 v#2.#3\@nil{#2}%
    \ifnum\@xp\@xp\@xp\@tempb\csname ver@amsmath.sty\endcsname v0.0\@nil
       <\tw@
      \def\@tempa{TT}%
    \else
      \def\@tempa{TF}%
    \fi
  }{%
    \def\@tempa{TF}
  }%
}
\if\@tempa
  \renewcommand{\math@qedhere}{\quad\hbox{\qedsymbol}}%
\fi
\newcommand{\openbox}{\leavevmode
  \hbox to.77778em{%
  \hfil\vrule
  \vbox to.675em{\hrule width.6em\vfil\hrule}%
  \vrule\hfil}}
\DeclareRobustCommand{\textsquare}{%
  \begingroup \usefont{U}{msa}{m}{n}\thr@@\endgroup
}
\providecommand{\qedsymbol}{\openbox}%
\newenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
        \itshape
    #1\@addpunct{.}]\ignorespaces
}{%
  \popQED\endtrivlist\@endpefalse
}
\providecommand{\proofname}{Proof}














\endinput
%% End of file ``phd.cls''
